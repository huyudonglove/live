webpackJsonp([6],{"+ZeV":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),l=n.n(a),i=(n("NYxO"),n("+63v")),o=n("xrTZ"),r=n("y1lO"),c={name:"channelsList",inject:["replace","reload"],components:{pagination:i.a},data:function(){return{tableData:[],tableHeight:200,imgId:"",total:0}},computed:{},watch:{$route:function(){"channelsList"===this.$route.name&&this.listData()}},methods:{listData:function(){var t=this;Object(r.g)(l()({},this.$route.query,{orderBy:1})).then(function(e){t.tableData=e.data.items,t.tableData=t.tableData.map(function(t){return t.channelCover&&(t.channelCover="/static/"+o.Base64.decode(t.channelCover)),t}),t.total=e.data.total})},upState:function(t,e){var n=this;2===t?Object(r.h)({id:e,state:t}).then(function(t){t.code&&n.$message.error(t.msg)}).catch(function(t){n.tableData=n.tableData.map(function(t){return t.id==e&&(t.state=1),t})}):Object(r.i)({id:e,state:t}).then(function(t){t.code&&n.$message.error(t.msg)}).catch(function(t){n.tableData=n.tableData.map(function(t){return t.id==e&&(t.state=2),t})})},del:function(t){var e=this;Object(r.d)({id:t}).then(function(t){t.code?e.$message.error(t.msg):e.reload()})}},created:function(){this.listData()},updated:function(){var t=this;"channelsList"===this.$route.name&&this.$nextTick(function(){t.tableHeight=window.innerHeight-t.$refs.groundRef.$el.offsetTop-110})}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["channelsList"==t.$route.name?n("div",[n("div",{staticStyle:{height:"50px","border-bottom":"1px solid #DFDCDC"}},[n("span",{staticStyle:{"font-size":"24px","font-weight":"bold",color:"#614a4d"}},[t._v("频道管理")]),t._v(" "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){t.$router.push({path:"/channelsList/channelsCreate",query:{msg:JSON.stringify(t.$route.query)}})}}},[t._v("新建频道")])],1),t._v(" "),n("el-table",{ref:"groundRef",staticClass:"mt15 mb15",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","max-height":t.tableHeight}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"channelCover",label:"封面图",align:"center",width:"140"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{width:"70px",height:"70px"},attrs:{src:t.row.channelCover?""+t.row.channelCover:null,alt:""}})]}}],null,!1,3579663184)}),t._v(" "),n("el-table-column",{attrs:{prop:"channelName",label:"频道名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},[t._v(t._s(e.row.channelName))])]}}],null,!1,102133747)}),t._v(" "),n("el-table-column",{attrs:{prop:"channelViceTopic",label:"频道副标题",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},[t._v(t._s(e.row.channelViceTopic))])]}}],null,!1,2068941004)}),t._v(" "),n("el-table-column",{attrs:{prop:"channelClassify",label:"频道类型",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.channelClassify?n("span",[t._v("全部")]):t._e()]}}],null,!1,1489547262)}),t._v(" "),n("el-table-column",{attrs:{prop:"channelBrief",label:"频道简介",align:"center",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},[t._v(t._s(e.row.channelBrief))])]}}],null,!1,501170830)}),t._v(" "),n("el-table-column",{attrs:{prop:"liveNum",label:"直播间数量",align:"center",width:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"onlineViewing",label:"在线观看人数",align:"center",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"state",label:"状态",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.state?n("span",[t._v("上架")]):t._e(),t._v(" "),2==e.row.state?n("span",{staticStyle:{color:"#FF644E"}},[t._v("下架")]):t._e()]}}],null,!1,1402319004)}),t._v(" "),n("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",align:"center",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",width:"110"}}),t._v(" "),n("el-table-column",{attrs:{prop:"state",label:"上架/下架",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"active-value":1,"inactive-value":2},on:{change:function(n){return t.upState(e.row.state,e.row.id)}},model:{value:e.row.state,callback:function(n){t.$set(e.row,"state",n)},expression:"scope.row.state"}})]}}],null,!1,2452234061)}),t._v(" "),n("el-table-column",{attrs:{label:"操作",fixed:"right",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.$router.push({path:"/live/addLive",query:{roomId:e.row.id}})}}},[t._v("创建直播间")]),t._v(" "),n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){t.$router.push({path:"/channelsList/channelsListInfo",query:{id:e.row.id,msg:JSON.stringify(t.$route.query)}})}}},[t._v("管理频道")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return t.del(e.row.id)}}},[t._v("删除")])]}}],null,!1,3997493267)})],1),t._v(" "),n("div",[n("pagination",{attrs:{totalNum:t.total}})],1)],1):t._e(),t._v(" "),n("router-view"),t._v(" "),n("div")],1)},staticRenderFns:[]};var u=n("VU/8")(c,s,!1,function(t){n("V5QY")},"data-v-7b42c0af",null);e.default=u.exports},V5QY:function(t,e){}});
//# sourceMappingURL=6.9c7597278975ad4d1775.js.map