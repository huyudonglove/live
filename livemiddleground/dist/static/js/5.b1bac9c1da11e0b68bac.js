webpackJsonp([5],{Enss:function(e,t,i){e.exports=i.p+"static/img/headPhoto.bc31614.jpg"},vgjj:function(e,t){},zWpX:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("y1lO"),a={name:"userInfo",inject:["reload"],data:function(){return{form:{id:"",userName:"",userGroupName:"",phone:"",email:"",sex:"",departmentName:""},showEdit:!1,formEdit:{id:"",userName:"",userGroupName:"",sex:"",departmentName:"",phone:"",email:""},rules:{userName:[{required:!0,message:"请输入用户名称",trigger:"change"},{required:!0,message:"请输入用户名称",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"},{required:!0,message:"请选择性别",trigger:"blur"}]},isConfirm:!1}},methods:{showDialog:function(){this.showEdit=!0,this.formEdit.id=this.form.id,this.formEdit.userName=this.form.userName,this.formEdit.userGroupName=this.form.userGroupName,this.formEdit.phone=this.form.phone,this.formEdit.email=this.form.email,this.formEdit.sex=this.form.sex,this.formEdit.departmentName=this.form.departmentName,this.formEdit.departmentId=this.form.departmentId},closeDialog:function(){this.formEdit.id="",this.formEdit.userName="",this.formEdit.userGroupName="",this.formEdit.phone="",this.formEdit.email="",this.formEdit.sex="",this.formEdit.departmentName="",this.formEdit.departmentId=""},getInfo:function(){var e=this;Object(r.v)().then(function(t){t.code?e.$message.error(t.msg):(e.form.id=t.data.id,e.form.userName=t.data.userName,e.form.userGroupName=t.data.userGroupName,e.form.phone=t.data.phone,e.form.email=t.data.email,e.form.sex=t.data.sex,e.form.departmentName=t.data.departmentName?t.data.departmentName:"",e.form.departmentId=t.data.departmentId)})},edit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.isConfirm=!0,Object(r.q)({id:e.formEdit.id,userName:e.formEdit.userName,sex:e.formEdit.sex}).then(function(t){e.isConfirm=!1,t.code?e.$message.error(t.msg):(e.$message.success(t.msg),e.showEdit=!1,e.reload())}).catch(function(t){e.isConfirm=!1})})}},created:function(){this.getInfo()}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["userInfo"==e.$route.name?r("div",[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("个人信息")]),e._v(" "),r("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:e.showDialog}},[e._v("编辑基本信息")])],1),e._v(" "),r("div",{staticClass:"text item"},[r("el-avatar",{staticStyle:{"margin-left":"30px"},attrs:{size:150,src:i("Enss")}}),e._v(" "),r("div",{staticStyle:{"margin-left":"20px",display:"inline-block","vertical-align":"top"}},[r("el-form",{attrs:{inline:!0,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"用户名称："}},[r("div",{staticStyle:{width:"200px"}},[e._v(e._s(e.form.userName))])]),e._v(" "),r("el-form-item",{attrs:{label:"性别："}},[1==e.form.sex?r("div",{staticStyle:{width:"200px"}},[e._v("男")]):e._e(),e._v(" "),2==e.form.sex?r("div",{staticStyle:{width:"200px"}},[e._v("女")]):e._e()])],1),e._v(" "),r("el-form",{attrs:{inline:!0,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"角色组："}},[r("div",{staticStyle:{width:"200px"}},[e._v(e._s(e.form.userGroupName))])]),e._v(" "),r("el-form-item",{attrs:{label:"所属单位："}},[r("div",{staticStyle:{width:"200px"}},[e._v(e._s(e.form.departmentName))])])],1),e._v(" "),r("el-form",{attrs:{inline:!0,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"手机号："}},[r("div",{staticStyle:{width:"200px"}},[e._v(e._s(e.form.phone))])]),e._v(" "),r("el-form-item",{attrs:{label:"邮箱："}},[r("div",{staticStyle:{width:"250px"}},[e._v(e._s(e.form.email))])])],1)],1)],1)]),e._v(" "),r("el-dialog",{attrs:{title:"编辑资料",visible:e.showEdit,"destroy-on-close":"",width:"700px",center:""},on:{"update:visible":function(t){e.showEdit=t},close:e.closeDialog}},[r("el-form",{ref:"form",attrs:{"label-width":"100px",model:e.formEdit,rules:e.rules,inline:!0}},[r("el-form-item",{attrs:{label:"用户名称：",prop:"userName",required:""}},[r("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"50"},model:{value:e.formEdit.userName,callback:function(t){e.$set(e.formEdit,"userName",t)},expression:"formEdit.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所属单位：",required:""}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:"",maxlength:"50"},model:{value:e.formEdit.departmentName,callback:function(t){e.$set(e.formEdit,"departmentName",t)},expression:"formEdit.departmentName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"角色组：",prop:"userGroupName",required:""}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:"",maxlength:"50"},model:{value:e.formEdit.userGroupName,callback:function(t){e.$set(e.formEdit,"userGroupName",t)},expression:"formEdit.userGroupName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别：",prop:"sex",required:""}},[r("el-select",{staticStyle:{width:"150px"},model:{value:e.formEdit.sex,callback:function(t){e.$set(e.formEdit,"sex",t)},expression:"formEdit.sex"}},[r("el-option",{attrs:{label:"男",value:1}}),e._v(" "),r("el-option",{attrs:{label:"女",value:2}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号：",prop:"phone",required:""}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:"",maxlength:"50"},model:{value:e.formEdit.phone,callback:function(t){e.$set(e.formEdit,"phone",t)},expression:"formEdit.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱：",prop:"email",required:""}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:"",maxlength:"50"},model:{value:e.formEdit.email,callback:function(t){e.$set(e.formEdit,"email",t)},expression:"formEdit.email"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{disabled:e.isConfirm,type:"primary"},on:{click:e.edit}},[e._v(e._s(e.isConfirm?"编辑中...":"确 定"))]),e._v(" "),r("el-button",{on:{click:function(t){e.showEdit=!1}}},[e._v("取 消")])],1)],1)],1):e._e()])},staticRenderFns:[]};var o=i("VU/8")(a,s,!1,function(e){i("vgjj")},"data-v-47db9f5f",null);t.default=o.exports}});
//# sourceMappingURL=5.b1bac9c1da11e0b68bac.js.map