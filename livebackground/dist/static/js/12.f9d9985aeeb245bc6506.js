webpackJsonp([12],{"1Om8":function(t,e){},R2xp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("sbhR"),s=a("+63v"),n=a("y1lO"),r={name:"playbackVideoManage",inject:["replace","reload"],data:function(){return{wd:"",q:"",tableData:[],tableHeight:250,status:"",serverStatus:"",serverList:[],userGroup:"",userGroupData:[],liveStatus:"",total:0}},computed:{},watch:{wd:function(){this.replace("wd",this.wd)},q:function(){this.replace("q",this.q)},userGroup:function(){this.replace("userGroup",this.userGroup)},status:function(){this.replace("status",this.status)},serverStatus:function(){this.replace("serverStatus",this.serverStatus)},liveStatus:function(){this.replace("liveStatus",this.liveStatus)},$route:function(){"playbackVideoManage"==this.$route.name&&this.listData()}},methods:{listData:function(){var t=this;Object(n.X)(this.$route.query).then(function(e){t.tableData=e.data.items,t.total=e.data.total})},groupList:function(){var t=this;Object(n.N)().then(function(e){t.userGroupData=e.data,t.userGroupData.unshift({id:"",name:"全部"})})},upState:function(t,e,a){var l=this,s=1==t&&1==!a?1:2==t&&1==!a?2:3;Object(n.W)({playbackId:e,serverActionType:s}).then(function(t){s&&l.reload()}).catch(function(t){1==t&&3!=s?l.tableData=l.tableData.map(function(t){return t.id==e&&(t.status=2),t}):2==t&&3!=s&&(l.tableData=l.tableData.map(function(t){return t.id==e&&(t.status=1),t}))})}},created:function(){this.wd=this.$route.query.wd||"",this.q=this.$route.query.q||"",this.status=this.$route.query.status||"",this.userGroup=this.$route.query.userGroup||"",this.serverStatus=this.$route.query.serverStatus||"",this.liveStatus=this.$route.query.liveStatus||"",this.listData(),this.groupList()},updated:function(){var t=this;"playbackVideoManage"==this.$route.name&&this.$nextTick(function(){t.tableHeight=window.innerHeight-t.$refs.multipleTable.$el.offsetTop-110})},components:{pagination:s.a,timeSwitch:l.a}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["playbackVideoManage"==t.$route.name?a("div",[t._m(0),t._v(" "),a("el-row",{staticClass:"tac",staticStyle:{padding:"15px 0"}},[a("span",{staticClass:"myWords"},[t._v("\n        视频名称：\n        "),a("el-input",{staticStyle:{width:"220px"},attrs:{"suffix-icon":"el-icon-search",maxlength:"50",placeholder:""},on:{change:function(e){return t.replace("page",1)}},model:{value:t.wd,callback:function(e){t.wd=e},expression:"wd"}})],1),t._v(" "),a("span",{staticClass:"myWords"},[t._v("\n        上传用户：\n        "),a("el-input",{staticStyle:{width:"220px"},attrs:{"suffix-icon":"el-icon-search",maxlength:"50",placeholder:""},on:{change:function(e){return t.replace("page",1)}},model:{value:t.q,callback:function(e){t.q=e},expression:"q"}})],1),t._v(" "),a("span",{staticClass:"myWords"},[t._v("\n        用户组：\n        "),a("el-select",{staticStyle:{width:"220px"},on:{change:function(e){return t.replace("page",1)}},model:{value:t.userGroup,callback:function(e){t.userGroup=e},expression:"userGroup"}},t._l(t.userGroupData,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)]),t._v(" "),a("el-row",{staticClass:"tac",staticStyle:{"border-bottom":"1px solid #eeeeee",padding:"15px 0"}},[a("span",{staticClass:"myWords"},[t._v("\n        回放状态：\n        "),a("el-select",{staticStyle:{width:"220px"},on:{change:function(e){return t.replace("page",1)}},model:{value:t.liveStatus,callback:function(e){t.liveStatus=e},expression:"liveStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"未开播",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"回放中",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已结束",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"--",value:"4"}})],1)],1),t._v(" "),a("span",{staticClass:"myWords"},[t._v("\n        上传时间："),a("timeSwitch")],1)]),t._v(" "),a("el-table",{ref:"multipleTable",staticClass:"mt15 mb15 el-table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","max-height":t.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"videoName",label:"视频名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"playStatus",label:"回放状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.playStatus?a("span",[t._v("未开播")]):t._e(),t._v(" "),1==e.row.playStatus?a("span",[t._v("直播中")]):t._e(),t._v(" "),2==e.row.playStatus?a("span",[t._v("回放中")]):t._e(),t._v(" "),3==e.row.playStatus?a("span",[t._v("已结束")]):t._e(),t._v(" "),e.row.playStatus?t._e():a("span",[t._v("--")])]}}],null,!1,2651982533)}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"上传用户",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userGroup",label:"用户组",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"duration",label:"视频时长",width:"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.duration?parseInt(e.row.duration/3600).toString().padStart(2,"0")+":"+parseInt(e.row.duration%3600/60).toString().padStart(2,"0")+":"+Math.ceil(e.row.duration%60).toString().padStart(2,"0"):"0:00")+"\n        ")]}}],null,!1,156254906)}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"上架状态",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",{staticStyle:{color:"#339900"}},[t._v("上架")]):t._e(),t._v(" "),2==e.row.status?a("span",{staticStyle:{color:"red"}},[t._v("下架")]):t._e()]}}],null,!1,3460366274)}),t._v(" "),a("el-table-column",{attrs:{prop:"beDelete",label:"是否删除",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.beDelete?a("span",{staticStyle:{color:"red"}},[t._v("已删除")]):t._e(),t._v(" "),e.row.beDelete?t._e():a("span",[t._v("--")])]}}],null,!1,4125635306)}),t._v(" "),a("el-table-column",{attrs:{prop:"uploadTime",label:"上传时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"上架/下架",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{disabled:e.row.beDelete,"active-value":1,"inactive-value":2},on:{change:function(a){return t.upState(e.row.status,e.row.id)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}],null,!1,1809945557)}),t._v(" "),a("el-table-column",{key:"3",attrs:{label:"操作",fixed:"right",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini",disabled:e.row.beDelete},on:{click:function(a){return t.upState(e.row.status,e.row.id,1)}}},[t._v("删除")])]}}],null,!1,1065244655)})],1),t._v(" "),a("pagination",{attrs:{totalNum:t.total}})],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"50px","border-bottom":"1px solid #DFDCDC"}},[e("span",{staticStyle:{"font-size":"24px","font-weight":"bold",color:"#614a4d"}},[this._v("回放视频管理")])])}]};var o=a("VU/8")(r,i,!1,function(t){a("1Om8")},"data-v-579a8392",null);e.default=o.exports}});