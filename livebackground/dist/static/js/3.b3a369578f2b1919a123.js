webpackJsonp([3],{Enss:function(e,t,i){e.exports=i.p+"static/img/headPhoto.bc31614.jpg"},XyFF:function(e,t){},zWpX:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("y1lO"),o={name:"userInfo",inject:["reload"],data:function(){return{form:{id:"",userName:"",roleName:"",phone:"",email:""},showEdit:!1,formEdit:{id:"",userName:"",roleName:"",phone:"",email:""},rules:{userName:[{required:!0,message:"请输入用户名称",trigger:"change"},{required:!0,message:"请输入用户名称",trigger:"blur"}]},isConfirm:!1}},methods:{showDialog:function(){this.showEdit=!0,this.formEdit.id=this.form.id,this.formEdit.userName=this.form.userName,this.formEdit.roleName=this.form.roleName,this.formEdit.phone=this.form.phone,this.formEdit.email=this.form.email},closeDialog:function(){this.formEdit.id="",this.formEdit.userName="",this.formEdit.roleName="",this.formEdit.phone="",this.formEdit.email=""},getInfo:function(){var e=this;Object(r.u)().then(function(t){t.code?e.$message.error(t.msg):(e.form.id=t.data.id,e.form.userName=t.data.userName,e.form.roleName=t.data.roleName,e.form.phone=t.data.phone,e.form.email=t.data.email)})},edit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.isConfirm=!0,Object(r.n)({id:e.formEdit.id,userName:e.formEdit.userName}).then(function(t){e.isConfirm=!1,t.code?e.$message.error(t.msg):(e.$message.success(t.msg),e.showEdit=!1,e.reload())}).catch(function(t){e.isConfirm=!1})})}},created:function(){this.getInfo()}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["userInfo"==e.$route.name?r("div",[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("个人信息")]),e._v(" "),r("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:e.showDialog}},[e._v("编辑基本信息")])],1),e._v(" "),r("div",{staticClass:"text item"},[r("el-avatar",{staticStyle:{"margin-left":"30px"},attrs:{size:150,src:i("Enss")}}),e._v(" "),r("div",{staticStyle:{"margin-left":"20px",display:"inline-block","vertical-align":"top"}},[r("el-form",{attrs:{inline:!0,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"用户名称："}},[r("div",{staticStyle:{width:"150px"}},[e._v(e._s(e.form.userName))])]),e._v(" "),r("el-form-item",{attrs:{label:"角色："}},[r("div",{staticStyle:{width:"150px"}},[e._v(e._s(e.form.roleName))])])],1),e._v(" "),r("el-form",{attrs:{inline:!0,"label-width":"140px"}},[r("el-form-item",{attrs:{label:"手机号："}},[r("div",{staticStyle:{width:"150px"}},[e._v(e._s(e.form.phone))])]),e._v(" "),r("el-form-item",{attrs:{label:"邮箱："}},[r("div",{staticStyle:{width:"250px"}},[e._v(e._s(e.form.email))])])],1)],1)],1)]),e._v(" "),r("el-dialog",{attrs:{title:"编辑资料",visible:e.showEdit,"destroy-on-close":"",width:"700px",center:""},on:{"update:visible":function(t){e.showEdit=t},close:e.closeDialog}},[r("el-form",{ref:"form",attrs:{"label-width":"100px",model:e.formEdit,rules:e.rules,inline:!0}},[r("el-form-item",{attrs:{label:"用户名称：",prop:"userName",required:""}},[r("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"50"},model:{value:e.formEdit.userName,callback:function(t){e.$set(e.formEdit,"userName",t)},expression:"formEdit.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"角色：",prop:"roleName"}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:"",maxlength:"50"},model:{value:e.formEdit.roleName,callback:function(t){e.$set(e.formEdit,"roleName",t)},expression:"formEdit.roleName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号：",prop:"phone",required:""}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:"",maxlength:"50"},model:{value:e.formEdit.phone,callback:function(t){e.$set(e.formEdit,"phone",t)},expression:"formEdit.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱：",prop:"email",required:""}},[r("el-input",{staticStyle:{width:"200px"},attrs:{disabled:"",maxlength:"50"},model:{value:e.formEdit.email,callback:function(t){e.$set(e.formEdit,"email",t)},expression:"formEdit.email"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{disabled:e.isConfirm,type:"primary"},on:{click:e.edit}},[e._v(e._s(e.isConfirm?"编辑中...":"确 定"))]),e._v(" "),r("el-button",{on:{click:function(t){e.showEdit=!1}}},[e._v("取 消")])],1)],1)],1):e._e()])},staticRenderFns:[]};var s=i("VU/8")(o,a,!1,function(e){i("XyFF")},"data-v-2295944e",null);t.default=s.exports}});